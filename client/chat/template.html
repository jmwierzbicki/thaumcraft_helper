<div style=" position:absolute; top:-20px; right:10px; width:300px; text-align: right;" ><a ng-click="showChat=!showChat; moveDown()">number of comments: {{commentCount}} (click to {{hideOrShow()}}) </a></div>
<div class="chat-widget" ng-show="showChat">

<div class="chat-widget-internal">

<div style="height: 200px; width: 400px; background: #fff;">
  <div class="chat-window" style="width:100%; height: 100%; overflow-y: scroll;" inf-scroll="loadMore(callback)"  >

      <div style="margin:5px;" >
          <div ng-repeat="row in messages track by $index">
           <div layout="row" >
               <div>
               <b>{{row.author}}</b>
           </div>
               <div flex-auto></div>
               <div>
                   <i style="font-size:12px; vertical-align: top; " timestamp-tidy="{{row.timestamp}}"></i>
               </div></div>
           <div>
               {{row.message}}
           </div>
              <md-divider style="margin-top:3px; margin-bottom:5px;"></md-divider>
          </div>

      </div>



  </div>

</div>
<div ng-show="isLoggedIn() " style="height:52px; overflow: visible;">
    <form name="chatForm" layout="row">


    <md-input-container class="chat-widget-input" >
        <label>Message</label>
        <input name="message" ng-model="message" md-maxlength="250" minlength="2" autocomplete="off">
        <div ng-messages="chatForm.message.$error" ng-show="chatForm.message.$dirty">
            <div ng-message="required">This is required!</div>
            <div ng-message="md-maxlength">That's too long!</div>
            <div ng-message="minlength">That's too short!</div>

        </div>
    </md-input-container>

        <md-button  ng-disabled="chatForm.$invalid || isEmpty() " ng-click="addComment(); message='';"  class="md-primary md-raised" type="submit"  >Send</md-button>

    <!---->
    </form>
</div>
</div>
</div>